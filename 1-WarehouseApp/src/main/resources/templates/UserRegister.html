<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="card-header">
                <h3>Welcome to User Register Page</h3>
            </div>
            <div class="card-body">
                <form id="userRegFrom" th:action="@{/user/save}" method="post" th:object="${user}">
<div class="row">
    <div class="col-4">
<label>  User Type: </label>
    </div>
    <div class="col-4">
         <input type="radio" th:field="*{userType}"  id="userType1" value="Vendor"/>Vendor
           <input type="radio" th:field="*{userType}" id="userType2" value="Customer"/>Customer
    </div>
    <div class="col-4">
       <span id="userTypeError"  ></span>
    </div>
</div>

<div class="row">
    <div class="col-4">
<label>  User Code : </label>
    </div>
    <div class="col-4">
         <input type="text"th:field="*{userCode}" id="userCode" class="form-control" />
    </div>
    <div class="col-4">
       <span id="userCodeError"  ></span>
    </div>
</div>

<div class="row">
    <div class="col-4">
<label>   User For:  </label>
    </div>
    <div class="col-4">
          <input type="text" th:field="*{userFor}"  id="userFor" class="form-control"/>
    </div>
    <div class="col-4">
       <span id="userForError"  ></span>
    </div>
</div>

<div class="row">
    <div class="col-4">
<label> User Email:  </label>
    </div>
    <div class="col-4">
         <input type="text"th:field="*{userEmail}" id="userEmail" class="form-control"/>  
    </div>
    <div class="col-4">
       <span id="userEmailError"  ></span>
    </div>
</div>

<div class="row">
    <div class="col-4">
<label> User Contact: </label>
    </div>
    <div class="col-4">
        <textarea th:field="*{userContact}" id="userContact" class="form-control"></textarea> 
    </div>
    <div class="col-4">
       <span id="userContactError"  ></span>
    </div>
</div>

<div class="row">
    <div class="col-4">
<label>     User ID Type:  </label>
    </div>
    <div class="col-4">
    <select th:field="*{userIdType}" id="userIdType" class="form-control">
            <option value="">-SELECT-</option>
             <option value="PANCARD">PANCARD</option>
              <option value="AADHAR">AADHAR</option>
               <option value="VOTER ID">VOTER ID</option>
                <option value="OTHER">OTHER</option>
             </select>
    </div>
    <div class="col-4">
       <span id="userIdTypeError"  ></span>
    </div>
</div>

<div class="row">
    <div class="col-4">
<label>    If Other   :  </label>
    </div>
    <div class="col-4">
         <input type="text"th:field="*{ifOther}" id="ifOther" class="form-control"/>
    </div>
    <div class="col-4">
       <span id="ifOtherError"  ></span>
    </div>
</div>

<div class="row">
    <div class="col-4">
<label>    ID Number  :  </label>
    </div>
    <div class="col-4">
       <input type="text"th:field="*{userIdNumber}" id="userIdNumber" class="form-control"/>
    </div>
    <div class="col-4">
       <span id="userIdNumberError"  ></span>
    </div>
</div>

    <input type="submit" value="Register user" class="form-control"/>

    </form>
            </div>
            <div class="card-footer">
                <span th:text="${message}"></span>
            </div>
        </div>
    </div>

<script>
    $(document).ready(function(){
    $("#userEmail").blur(function(){
        $("#userEmailError").text("");
        var email=$("#userEmail").val();
        $.ajax({
  url:"/validateEmail",
data:{"email":email},
success:function(responseText)
{
    if (responseText!=null)
    {
        $("#userEmailError").text("responseText"); 
    }
    else{
        $("#userEmailError").hide();
    }
}
        });
    });
    });
</script>


</body>
</html>